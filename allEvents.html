<!doctype html>
<html>
<head>
<meta charset="utf-8">
<title></title>
<script type="text/javascript" src="http://opendatahacklab.org/sparql_suite/sparql_processor.js"></script>
<script type="text/javascript" src="http://opendatahacklab.org/sparql_suite/event_sparql_processor.js"></script>
</head>



<body>
<header>
<h1>Agenda unica del movimento catanese</h1>
<p>Inserire qui una breve descrizione</p>
</header>

<p id="demo"></p>
 <table id="events">
  <tr> 
   <th>Data</th>
   <th>Ora</th>
   <th>Titolo</th>
   <th>Link</th>
  </tr>
 </table>
<script type="text/javascript">
var container = document.getElementById("events");

var processEventFunction = function(event, isNext){	
	
	var trevents = document.createElement("tr");
	container.appendChild(trevents);
	
	var tdData = document.createElement("td");
	var data = new Date(event.timeStart);
	var stringaData=document.createTextNode(data.getDate() + "/" + data.getMonth()+ "/" + data.getFullYear());
	tdData.appendChild(stringaData);
	trevents.appendChild(tdData);
	
	var tdOra = document.createElement("td");
	var data = new Date(event.timeStart);
	var ora=document.createTextNode(data.getHours() + ":" + data.getMinutes());
	tdOra.appendChild(ora);
	trevents.appendChild(tdOra);
	
	var tdTitolo = document.createElement("td");
	var tdTestoTitolo = document.createTextNode(event.eventName);
	tdTitolo.appendChild(tdTestoTitolo);
	trevents.appendChild(tdTitolo);
	
	var tdLink = document.createElement("td");
	trevents.appendChild(tdLink);
	

};


function EventProcessor(){
	this.processPast = function(event){
		processEventFunction(event, false);
	};
	this.processNext = function(event){
		processEventFunction(event, true);
	};
	this.processFuture = function(event){
		processEventFunction(event, false);
	};
	this.flush = function(){ 
	};
}

var p = new EventQueryProcessor(new EventProcessor(), new Date());

sparql_query("http://dydra.com/cristianolongo/odhl/sparql", p);
	</script>
</body>
</html>